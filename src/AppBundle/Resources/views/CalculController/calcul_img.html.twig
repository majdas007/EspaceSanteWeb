{% extends '::default/home.html.twig' %}


{% block content  %}
    <link rel="stylesheet" href="{{ asset('css/styleIMG.css')}}"  type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script language = "javascript">

        $(document).ready(function(){


           $("#calc").on("click", function(event){

               var age = $("#age").val();
               var taille = $("#taille").val();
               var poids = $("#poids").val();
               //var imc = parseInt(taille) + parseInt(poids);
               var imc =  parseFloat(poids) / parseFloat(parseInt(taille)*parseInt(taille)) ;
               var imcc =  imc*10000 ;
               var i = imcc.toFixed(1);

               if ($("#f").is(':checked')) {

                   im = (1.2 * i) + (0.23 * age) - (10.83 * 0) - 5.4;
                   var img = im.toFixed(1);

                   if (img < 25) {
                      var interp = "Personne trop maigre" ;
                   }

                   else if (img >= 25 && img < 30) {
                       var interp = "Personne normale" ;
                   }
                   else if (img >= 30) {
                       var interp = "Personne ayant trop de graisse";
                   }

               }

               else if ($("#h").is(':checked')) {


                   var im = (1.2 * i)+(0.23 * age) - (10.83 * 1) - 5.4 ;
                   var img = im.toFixed(1);

                   if (img < 15) {
                       var interp = "Personne trop maigre" ;
                   }

                   else if (img >= 15 && img < 20) {
                       var interp = "Personne normale" ;
                   }
                   else if (img >= 20) {
                       var interp = "Personne ayant trop de graisse";
                   }

               }
              // }


              $.ajax({
                    url:        'imc',
                    type:       'POST',

                    success: function(response) {


                        $("#rslt").html(img +" %  " + interp);
                        $("#inter").html(interp);





                    },
                    error : function(xhr, textStatus, errorThrown) {
                        alert('Ajax request failed.');
                        $('#rslt').append('no');
                    }
                });
            });
        });

    </script>

    <br> <br>
    <h1> IMG </h1>
<br>
<p id="def">
    Dans l'organisme, on distingue schématiquement la masse grasse, qui correspond aux cellules adipeuses,
    et la masse maigre, qui correspond aux muscles.
    On exprime souvent ces deux éléments en pourcentage du poids. Or le corps contient toujours de la graisse, c'est physiologique.
    <br>
    Pour évaluer la masse grasse que contient l'organisme, on peut utiliser différentes méthodes :
    la mesure du pli cutané (on mesure l'épaisseur d'un pincement de la peau à différents endroits du corps,
    ce qui permet d'évaluer la graisse sous-cutanée) ; les balances à impédancemètre (on mesure un courant électrique travers le corps,
    dont la résistance est directement liée au taux de matière grasse qu'il contient)... Mais on peut aussi utiliser une formule empirique,
    dérivée de l'indice de masse corporelle, qui va permettre de calculer l'indice de masse grasse (IMG)
    (attention, cette formule n'est valable que pour les personnes ayant entre 15 et 50 ans) :
    <br>
</p>
    <br> <br>
    <h1> Calculez votre Indice de Masse Grasse (IMG)  </h1>
    <br>
    <div id="p">
        <div class="inputs" align="center">
            <br>
            <form class="form-style-7">

    <input type="number" id="taille" placeholder="Votre taille en centimètres"> <br> <br>
    <input type="number" id="poids" placeholder="Votre poids en Kg"> <br> <br>


    <input type="number" id="age" placeholder="Votre age"> <br> <br>
    <label style="font-family: georgia;"> Vous etes : </label>
    <form>
        <input type="radio" id="f" value="femme" name="genre">  Femme
        <input type="radio" id="h" value="homme" name="genre"> Homme

    </form>
                <br>
                <a href="#" id="calc"> <img src="{{ asset('images/cal.png') }}"  width=65 height=70/> </a>

            </form>

        </div>
        <br>
        <br>
    </div>

    <br>

    <h1> Interprétation </h1>
    <br>
    <div id="p2">
    <div id="rslt" align="center">
    <br> <br>
    <div id="inter"> </div>
    <br>
    </div>
    </div>
    <br> <br>




{% endblock %}